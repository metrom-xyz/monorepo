type Token @entity(immutable: true) {
    id: Bytes!
    name: String!
    symbol: String!
    decimals: Int!
}

type Strategy @entity(immutable: false) {
    id: Int8!
    implementation: Bytes!
    active: Boolean!
    assets: [StrategyAsset!]! @derivedFrom(field: "strategy")
    positions: [Position!]! @derivedFrom(field: "strategy")
}

type StrategyAsset @entity(immutable: false) {
    id: Bytes!
    strategy: Strategy!
    asset: Token!
    totalAllocated: BigInt!
    totalDeposited: BigInt!
}

type Position @entity(immutable: false) {
    id: Bytes!
    owner: Bytes!
    strategy: Strategy!
    asset: Token
    totalAllocated: BigInt!
    totalDeposited: BigInt!
    borrowToken: Token
    totalBorrowed: BigInt!

    _updatedAtBlock: BigInt!
}
